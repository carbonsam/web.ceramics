<%= form_with(model: model) do |form| %>

  <fieldset>
    <%= render("shared/form_field_error", key: :title, errors: model.errors) do |is_invalid| %>
      <%= form.label(:title) %>
      <%= form.text_field(:title, autofocus: true, "aria-invalid": is_invalid) %>
    <% end %>

    <%= render("shared/form_field_error", key: :description, errors: model.errors) do |is_invalid| %>
      <%= form.label(:description) %>
      <%= form.text_area(:description, rows: 3, "aria-invalid": is_invalid) %>
    <% end %>

    <div class="grid">
      <div>
        <%= render("shared/form_field_error", key: :rating, errors: model.errors) do |is_invalid| %>
          <%= form.label(:rating) %>
          <%= form.select(:rating, Movie::RATINGS, { prompt: "Pick one" }, { "aria-invalid": is_invalid }) %>
        <% end %>

        <%= render("shared/form_field_error", key: :released_on, errors: model.errors) do |is_invalid| %>
          <%= form.label(:released_on) %>
          <%= form.date_field(:released_on, "aria-invalid": is_invalid) %>
        <% end %>

        <%= render("shared/form_field_error", key: :total_gross, errors: model.errors) do |is_invalid| %>
          <%= form.label(:total_gross) %>
          <%= form.number_field(:total_gross, "aria-invalid": is_invalid) %>
        <% end %>
      </div>

      <div>
        <%= render("shared/form_field_error", key: :director, errors: model.errors) do |is_invalid| %>
          <%= form.label(:director) %>
          <%= form.text_field(:director, "aria-invalid": is_invalid) %>
        <% end %>

        <%= render("shared/form_field_error", key: :duration, errors: model.errors) do |is_invalid| %>
          <%= form.label(:duration) %>
          <%= form.text_field(:duration, "aria-invalid": is_invalid) %>
        <% end %>

        <%= render("shared/form_field_error", key: :image_file_name, errors: model.errors) do |is_invalid| %>
          <%= form.label(:image_file_name) %>
          <%= form.text_field(:image_file_name, "aria-invalid": is_invalid) %>
        <% end %>
      </div>
    </div>

    <%= render("shared/form_field_error", key: :genres, errors: model.errors) do |is_invalid| %>
      <%= form.label(:genres) %>
      <%= form.collection_check_boxes(:genre_ids, Genre.order(:name), :id, :name) %>
    <% end %>
  </fieldset>

  <%= form.submit("#{model.new_record? ? 'Create' : 'Update'} Movie") %>
<% end %>
